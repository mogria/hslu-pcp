## Konkunktion, Disjunktion

Konjunktion (AND) mit `,`:

  X = Y, Y = Z.

Disjunktion:

    rich(tom).
    nice(mary).
    interesting(X) :-
        rich(X);       % OR HERE
        nice(X).

Disjunktionen werden aber selten verwendet, da man auch einfach zwei Regeln verwenden kann:

    interesting1(X) :- rich(X); nice(X).
    interesting2(X) :- rich(X).
    interesting2(X) :- nice(X).


## Cut-Operator (`!`)


Die Lösungsmenge kann mit dem Cut-Operator verkleinert werden, damit ein
gewisser teil des suchbaums nicht abgesucht werden muss.

Dies kann das Backtracking schneller machen und gibt uns etwas Kontrolle über
den Backtracking Prozess.

* Nimmt keine Argumente
* Ist immer erfüllt
* Bindet die bisherige Wahl (in Bezug auf Backtracking) innerhalb der aktuellen Klausel
  * Das heisst es kann keine andere regel mehr gewählt werden (siehe `max2/2`).
  * Bindet uns an die gewählte Regel

Beispiel:

    p(X):- b(X), !, c(X).

Suchbaum ohne cut:

![Suchbaum ohne cut](./04-suchbaum-ohne-cut.png)

Suchbaum mit cut:

![Suchbaum mit cut](./04-suchbaum-mit-cut.png)

Was der Cut bewirkt

* Der Cut bindet in der aktuellen Regel die Wahl aller Ziele im Hauptteil (body) links vom Cut-Operator
* Wenn wir also bei einer Regel der Form

      q :- p 1 , ... , p n , !, r 1 , ... , r n .

  im Suchbaum den Cut erreichen, dann bindet uns das:
* zu dieser spezifischen Klausel von q
* zu den Wahlen getroffen durch p 1 bis p n
* NICHT zu den Wahlen getroffen durch r 1 bis r n

max:

    max(X, Y, X) :- X >= Y. % r1: X is the max
    max(X, Y, Y) :- X < Y. % r2: Y is the max


max2 (mit cut)

    max2(X, Y, Z) :- X >= Y, !, X = Z.
    max2(_X, Y, Y).

`mem(X, L)` gibt so viele Lösungen wie die Liste enthält.
Listenzugehörigkeit mit einer Lösung (`mem_det`). 

    mem_det(X, [X | _]) :- !.
    mem_det(X, [_| Tail]) :- mem_det(X, Tail).

### Green cut

Cuts welche die deklarative Bedeutung *nicht verändert* (Lösungsmenge wird nicht eingeschränkt).
Bsp. `max/2`.

### Red cut

Cuts welche die deklarative Bedeutung *verändert* (Lösungsmenge wird eingeschränkt).

Bsp. `mem_det/2`

* sind nicht vollständig deklarativ
* sind schwer zu lesen und verstehen
* können zu subtilen programmierfehlern führen

Red Cuts nur mit Sorgfalt verwenden.
